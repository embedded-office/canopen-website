
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Specify the heart of your CANopen device with a compact table of object entries on your resource limited system.">
      
      
        <meta name="author" content="Embedded Office">
      
      
        <link rel="canonical" href="https://canopen-stack.org/v4.4/usage/dictionary/">
      
      <link rel="icon" href="../../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Using the Object Dictionary - CANopen Stack</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-object-dictionary" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CANopen Stack" class="md-header__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CANopen Stack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using the Object Dictionary
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../start/installation/" class="md-tabs__link">
        Quickstart
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../architecture/" class="md-tabs__link md-tabs__link--active">
        CANopen Usage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../api/node/" class="md-tabs__link">
        API Functions
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../examples/flash-user-domain/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hardware/can/" class="md-tabs__link">
        Hardware Connection
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../license/" class="md-tabs__link">
      License
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CANopen Stack" class="md-nav__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    CANopen Stack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Quickstart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quickstart" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Quickstart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/installation/" class="md-nav__link">
        Install Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/structure/" class="md-nav__link">
        Repository Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstart/" class="md-nav__link">
        Quickstart Example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          CANopen Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CANopen Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          CANopen Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        Device Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        CANopen Stack Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../control/" class="md-nav__link">
        Controlling the Node
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Using Object Dictionary
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Using Object Dictionary
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#object-dictionary" class="md-nav__link">
    Object Dictionary
  </a>
  
    <nav class="md-nav" aria-label="Object Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-objects" class="md-nav__link">
    Basic Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-objects" class="md-nav__link">
    Parameter Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-objects" class="md-nav__link">
    Domain Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-objects" class="md-nav__link">
    String Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-objects" class="md-nav__link">
    User Objects
  </a>
  
    <nav class="md-nav" aria-label="User Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tpdo/" class="md-nav__link">
        Transmit PDO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../emergency/" class="md-nav__link">
        Emergency Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        Timed Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../callbacks/" class="md-nav__link">
        Callback Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Functions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/node/" class="md-nav__link">
        CANopen Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dictionary/" class="md-nav__link">
        Object Dictionary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/emergency/" class="md-nav__link">
        Emergency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/network/" class="md-nav__link">
        Network Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/object/" class="md-nav__link">
        Object Entry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/tpdo/" class="md-nav__link">
        TPDO Event
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/interface/" class="md-nav__link">
        CAN Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/timer/" class="md-nav__link">
        Timer Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/parameter/" class="md-nav__link">
        Parameter Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/csdo/" class="md-nav__link">
        SDO Client
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/flash-user-domain/" class="md-nav__link">
        Firmware Upload
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-calibration-mode/" class="md-nav__link">
        Calibration Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/write-serial-number/" class="md-nav__link">
        Write Serial Number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/use-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/usage-with-rtos-and-baremetal/" class="md-nav__link">
        RTOS and Baremetal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Hardware Connection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware Connection" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hardware Connection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/can/" class="md-nav__link">
        CAN Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/timer/" class="md-nav__link">
        Timer Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/nvm/" class="md-nav__link">
        NVM Driver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#object-dictionary" class="md-nav__link">
    Object Dictionary
  </a>
  
    <nav class="md-nav" aria-label="Object Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-objects" class="md-nav__link">
    Basic Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-objects" class="md-nav__link">
    Parameter Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-objects" class="md-nav__link">
    Domain Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-objects" class="md-nav__link">
    String Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-objects" class="md-nav__link">
    User Objects
  </a>
  
    <nav class="md-nav" aria-label="User Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="using-object-dictionary">Using Object Dictionary<a class="headerlink" href="#using-object-dictionary" title="Permanent link">#</a></h1>
<h2 id="object-dictionary">Object Dictionary<a class="headerlink" href="#object-dictionary" title="Permanent link">#</a></h2>
<p>The main interface within the CANopen network is the object dictionary of the CANopen nodes. The object dictionary of a node is accessible from the network as well as from the node application.</p>
<p>The definition of the object dictionary table is done with an array of object entries of the type <code>CO_OBJ</code>. A small example is shown below:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* PDO mappable read-only value: */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1001</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ____PR_</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED8</span><span class="p">,</span><span class="w">  </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoErrReg</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* Read-only value, which depends on Node-ID: */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1014</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ__N__R_</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED32</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoEmcyId</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* In CO_DATA pointer memory stored constant value: */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2400</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_D___R_</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED8</span><span class="p">,</span><span class="w">  </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span><span class="w">           </span><span class="p">},</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* A normal 32bit process data entry: */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2400</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED32</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoVarLong</span><span class="p">)},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* mark the end of object dictionary: */</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_OBJ_DICT_ENDMARK</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>The CANopen Stack relies on a binary search algorithm to ensure that object dictionary entries are found quickly. Because of this, you must keep the index / subindex of all entries in the object dictionary sorted in ascending order.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The object dictionary can manage different object entry types with different properties. This information is encoded within the <a href="/usage/configuration/#property-flags">object property flags</a> and the <a href="/usage/configuration/#object-type-interface">object type functions</a> and is described in detail in the configuration section.</p>
</div>
<p>The update of the provided basic and system object types within the object dictionary is managed by the CANopen stack. The application may read or write these objects at any time. Use the service function groups CODict…() and COObj…() for accessing the object dictionary.</p>
<h3 id="basic-objects">Basic Objects<a class="headerlink" href="#basic-objects" title="Permanent link">#</a></h3>
<p>The read and write access of basic object entries is symmetrical. Therefore the description is reduced to read access. The data width of basic objects is 8bit (byte), 16bit (word) or 32bit (long). All widths are handled in the same way, therefore the description is reduced to 32bit (long) object entries.</p>
<p>For simple read access of a (hypothetical) 32bit object entry with an index=0x2345 and subindex=0x56, the service call is:</p>
<div class="highlight"><pre><span></span><code><span class="n">CODictRdLong</span><span class="p">(</span><span class="o">&amp;</span><span class="n">demo</span><span class="p">.</span><span class="n">Dict</span><span class="p">,</span><span class="w"> </span><span class="n">CO_DEV</span><span class="p">(</span><span class="mh">0x2345</span><span class="p">,</span><span class="mh">0x56</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>The following diagram shows the internal behavior of this service.</p>
<pre class="mermaid"><code>sequenceDiagram
  participant A as Application
  participant D as demo.Dict
  participant O as demo.Obj
  A-&gt;&gt;+D: CODictRdLong()
  D-&gt;&gt;D: CODictFind()
  D-&gt;&gt;+O: get size
  O--&gt;&gt;-D: size
  D-&gt;&gt;+O: read object
  O--&gt;&gt;-D: value
  D--&gt;&gt;-A: value</code></pre>
<p>For multiple accesses to the same object entry, the following sequence reduces the performance overhead, which is based on searching within the object dictionary. The object read and write functions can take a previously searched object entry as the first argument:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CODictFind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">demo</span><span class="p">.</span><span class="n">Dict</span><span class="p">,</span><span class="w"> </span><span class="n">CO_DEV</span><span class="p">(</span><span class="mh">0x1234</span><span class="p">,</span><span class="mh">0x56</span><span class="p">));</span><span class="w"></span>

<span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">COObjRdValue</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">demo</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h3 id="parameter-objects">Parameter Objects<a class="headerlink" href="#parameter-objects" title="Permanent link">#</a></h3>
<p>The CANopen stack provides service functions, a callback interface and a system object type for managing parameters. The parameters are handled in parameter groups. The parameter group memory must be a consecutive memory area. The recommended way to allocate this memory area is shown in the following example:</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">DEMO_PARA_T</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">ParaLong</span><span class="p">;</span><span class="w">           </span><span class="cm">/* storable 32bit parameter value */</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ParaWord</span><span class="p">;</span><span class="w">           </span><span class="cm">/* storable 16bit parameter value */</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w">  </span><span class="n">ParaByte</span><span class="p">;</span><span class="w">           </span><span class="cm">/* storable 8bit parameter value */</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">DemoParaMem</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>The parameter group object holds all necessary information, which are needed for the parameter handling. This structure may be placed into ROM because it holds only constant values.</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_PARA</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mf">0L</span><span class="p">,</span><span class="w">                          </span><span class="cm">/* start address in non-volatile memory */</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">DEMO_PARA_T</span><span class="p">),</span><span class="w">  </span><span class="cm">/* size of parameter memory */</span><span class="w"></span>
<span class="w">  </span><span class="o">&amp;</span><span class="n">DemoParaMem</span><span class="p">,</span><span class="w">                </span><span class="cm">/* start address of parameter memory */</span><span class="w"></span>
<span class="w">  </span><span class="o">&amp;</span><span class="n">DemoParaDef</span><span class="p">,</span><span class="w">                </span><span class="cm">/* start address of default parameters */</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_RESET_NODE</span><span class="p">,</span><span class="w">               </span><span class="cm">/* reset type for reload parameter */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="s">&quot;DemoParaId&quot;</span><span class="p">,</span><span class="w">         </span><span class="cm">/* user parameter identification */</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_PARA___E</span><span class="w">                  </span><span class="cm">/* enable parameter storage on cmd */</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">DemoParaObj</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>If this parameter group is controllable from the CAN network side, the standard parameter save object (and optionally the parameter load object) is placed into the standard defined location of the object dictionary. The following example shows the object entry for <em>save all parameters</em>:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1010</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA_STORE</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>The parameter values itself can be used within any object directory entry. The following example shows the usage of the demo parameter of the parameter group DemoParaMem within a hypothetical object entry with index 0x2345 and subindex 0x56:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2345</span><span class="p">,</span><span class="mh">0x56</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED32</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">DemoParaMem</span><span class="p">.</span><span class="n">ParaLong</span><span class="p">))</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2345</span><span class="p">,</span><span class="mh">0x57</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED16</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">DemoParaMem</span><span class="p">.</span><span class="n">ParaWord</span><span class="p">))</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2345</span><span class="p">,</span><span class="mh">0x58</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TUNSIGNED8</span><span class="p">,</span><span class="w">  </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">DemoParaMem</span><span class="p">.</span><span class="n">ParaByte</span><span class="p">))</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>If a parameter group must be controllable from the node application side, the API function group COPara…() is provided. The following line stores the given parameter group in NVM.</p>
<div class="highlight"><pre><span></span><code><span class="n">COParaStore</span><span class="p">(</span><span class="o">&amp;</span><span class="n">DemoParaObj</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">demo</span><span class="p">);</span><span class="w">    </span><span class="cm">/* store parameter group */</span><span class="w"></span>
</code></pre></div>
<p>The following diagram shows the internal behavior of storing a parameter object:</p>
<pre class="mermaid"><code>sequenceDiagram
  participant A as Application
  participant P as demo.Para
  A-&gt;&gt;+P: COParaStore()
  P-&gt;&gt;+A: callback CP_SavePara()
  A--&gt;&gt;-P: ok
  P--&gt;&gt;-A: ok</code></pre>
<h3 id="domain-objects">Domain Objects<a class="headerlink" href="#domain-objects" title="Permanent link">#</a></h3>
<p>The CANopen stack provides a system object type for managing domains. The domain memory must be a consecutive memory area. The recommended way to allocate this memory area is shown in the following example:</p>
<div class="highlight"><pre><span></span><code><span class="kt">uint8_t</span><span class="w"> </span><span class="n">DemoDomainMem</span><span class="p">[</span><span class="n">DEMO_DOMAIN_SIZE</span><span class="p">];</span><span class="w">    </span><span class="cm">/* domain memory area */</span><span class="w"></span>
</code></pre></div>
<p>The domain object holds all necessary information, which is needed for domain handling.</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_OBJ_DOM</span><span class="w"> </span><span class="n">DemoDomainObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">                     </span><span class="cm">/* variable for read position     */</span><span class="w"></span>
<span class="w">  </span><span class="n">DEMO_DOMAIN_SIZE</span><span class="p">,</span><span class="w">      </span><span class="cm">/* size of domain memory          */</span><span class="w"></span>
<span class="w">  </span><span class="o">&amp;</span><span class="n">DemoDomainMem</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w">      </span><span class="cm">/* start address of domain memory */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>To enable the usage of this domain to the CAN network side, the domain object must be added to the object directory. See the following object entry with index=0x2345 and subindex=0 as an example:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2345</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TDOMAIN</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoDomainObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<h3 id="string-objects">String Objects<a class="headerlink" href="#string-objects" title="Permanent link">#</a></h3>
<p>The CANopen stack provides a system object type for managing strings. The strings are assumed to be read-only data. The recommended way to allocate this string memory is shown in the following example:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">DemoString</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello World!&quot;</span><span class="p">;</span><span class="w">    </span><span class="cm">/* string memory */</span><span class="w"></span>
</code></pre></div>
<p>The string object holds all necessary information, which are needed for the string handling.</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_OBJ_STR</span><span class="w"> </span><span class="n">DemoStringObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">                     </span><span class="cm">/* variable for read position     */</span><span class="w"></span>
<span class="w">  </span><span class="o">&amp;</span><span class="n">DemoString</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w">         </span><span class="cm">/* start address of string memory */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>To enable the usage of this string to the CAN network side, the string must be added to the object directory. See the following object entry with index=0x3456 and subindex=0 as an example:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x3456</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____R_</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TSTRING</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoStringObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<h3 id="user-objects">User Objects<a class="headerlink" href="#user-objects" title="Permanent link">#</a></h3>
<p>User type objects are provided to implement special behavior of read and/or write access to an object entry. The complex system types are using this mechanism to provide the specified behavior of several pre-defined CANopen object entries.</p>
<p>The implemented access functions (called "type functions") are used for any access to the object entry, regardless of the accessing component (CAN network via CAN messages or the application via the API functions).</p>
<p>An example user type (called "DemoType") is declared with the following structure.</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_OBJ_TYPE</span><span class="w"> </span><span class="n">DemoType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">DemoSize</span><span class="p">,</span><span class="w">  </span><span class="cm">/* type function to get object size         */</span><span class="w"></span>
<span class="w">  </span><span class="n">DemoInit</span><span class="p">,</span><span class="w">  </span><span class="cm">/* type function to initialize type object  */</span><span class="w"></span>
<span class="w">  </span><span class="n">DemoRead</span><span class="p">,</span><span class="w">  </span><span class="cm">/* type function to read object content     */</span><span class="w"></span>
<span class="w">  </span><span class="n">DemoWrite</span><span class="p">,</span><span class="w"> </span><span class="cm">/* type function to write object content    */</span><span class="w"></span>
<span class="w">  </span><span class="n">DemoReset</span><span class="w">  </span><span class="cm">/* type function to reset the object        */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>If a new user type didn't need to have special behavior on initialization or reset events, the corresponding type function can be set to 0 to ignore potential calls and just return no error.</p>
<p>The following list shows the type function prototypes. The return value of the size type function (e.g. <code>DemoSize()</code>) shall return the size of the user type in bytes. The other type functions shall return <code>CO_ERR_NONE</code> after the successful operation. If an error is detected the corresponding error codes must be returned: <code>CO_ERR_TYPE_RD</code>, <code>CO_ERR_TYPE_WR</code>, <code>CO_ERR_TYPE_INIT</code>, or <code>CO_ERR_TYPE_RESET</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">DemoSize</span><span class="w"> </span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">width</span><span class="p">);</span><span class="w"></span>
<span class="n">CO_ERR</span><span class="w">   </span><span class="nf">DemoInit</span><span class="w"> </span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">);</span><span class="w"></span>
<span class="n">CO_ERR</span><span class="w">   </span><span class="nf">DemoRead</span><span class="w"> </span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="n">CO_ERR</span><span class="w">   </span><span class="nf">DemoWrite</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="n">CO_ERR</span><span class="w">   </span><span class="nf">DemoReset</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">para</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>To enable the usage of this demo type to the CAN network side, the demo object must be added to the object directory. See the following object entry with index=0x6789 and subindex=0 as an example:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define CO_TDEMO  ((CO_OBJ_TYPE*)&amp;DemoType)</span>

<span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">DemoOD</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x6789</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_OBJ_____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TDEMO</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">DemoValue</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>The following diagram shows the internal behavior of read access to the user type object:</p>
<pre class="mermaid"><code>sequenceDiagram
  participant A as Application
  participant D as demo.Dir
  participant O as demo.Obj
  participant T as DemoType
  A-&gt;&gt;+D: CODirRdLong()
  D-&gt;&gt;+O: COObjRdValue()
  O-&gt;&gt;+T: DemoSize()
  T--&gt;&gt;-O: size
  O-&gt;&gt;+T: DemoRead()
  T--&gt;&gt;-O: value
  O--&gt;&gt;-D: value
  D--&gt;&gt;-A: value</code></pre>
<h4 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">#</a></h4>
<hr />
<p><strong>How can I access the object size when implementing a type function?</strong></p>
<p><em>The parameter <code>size</code> in the functions <code>DemoRead()</code> and <code>DemoWrite()</code> is the size of the data, given via the pointer <code>buffer</code>. If you want to use the width of the object entry, you can use the following snippet:</em></p>
<div class="highlight"><pre><span></span><code><span class="n">CO_ERR</span><span class="w"> </span><span class="nf">DemoRead</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">COObjGetSize</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* now you can handle your data with:</span>
<span class="cm">  *  - size (number of bytes in buffer)</span>
<span class="cm">  *  - width (number of bytes in object entry)</span>
<span class="cm">  *  Note: you can trust, that the indicated SDO transfer size (if given)</span>
<span class="cm">  *        is equal to the width (checked by the SDO server)</span>
<span class="cm">  */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<hr />
<p><strong>How can I set a non-standard ABORT codes when implementing a type function?</strong></p>
<p><em>When you need to control the ABORT codes of SDO expedited transfers, you can use the function <code>COObjTypeUserSDOAbort()</code> to set a user defined SDO abort code within your type functions:</em></p>
<div class="highlight"><pre><span></span><code><span class="n">CO_ERR</span><span class="w"> </span><span class="nf">DemoWrite</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="cm">/* your error condition */</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="cm">/* the given abort code is considered in SDO transfers only! */</span><span class="w"></span>
<span class="w">    </span><span class="n">COObjTypeUserSDOAbort</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="mh">0x12345678</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CO_ERR_TYPE_WR</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<hr />
<p><strong>How can I use the basic type functions when implemeting a type function?</strong></p>
<p><em>When you want to change the behavior of writing to a basic object entry but keep reading this entry unchanged, you need to implement a type function set with <code>Size</code>, <code>Read</code>, and <code>Write</code>. The <code>Size</code> and <code>Read</code> type functions can be reused from the standard implementation. In the following example we reuse the <code>CO_TUNSIGNED32</code> implementation:</em></p>
<div class="highlight"><pre><span></span><code><span class="cm">/* define your new type interface */</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ_TYPE</span><span class="w"> </span><span class="n">MyType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">MyTypeSize</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">MyTypeRead</span><span class="p">,</span><span class="w"> </span><span class="n">MyTypeWrite</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">MyTypeSize</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* get base type and re-use it for the size function */</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ_TYPE</span><span class="w"> </span><span class="o">*</span><span class="n">uint32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CO_TUNSIGNED32</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">uint32</span><span class="o">-&gt;</span><span class="n">Size</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">CO_ERR</span><span class="w"> </span><span class="nf">MyTypeRead</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* get base type and re-use it for the read function */</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ_TYPE</span><span class="w"> </span><span class="o">*</span><span class="n">uint32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CO_TUNSIGNED32</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">uint32</span><span class="o">-&gt;</span><span class="n">Read</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">CO_ERR</span><span class="w"> </span><span class="nf">MyTypeWrite</span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w"> </span><span class="o">*</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* place here your implementation for the write function */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<hr />




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../control/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Controlling the Node" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Controlling the Node
            </div>
          </div>
        </a>
      
      
        
        <a href="../tpdo/" class="md-footer__link md-footer__link--next" aria-label="Next: Transmit PDO" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Transmit PDO
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; by <a href="https://www.embedded-office.com/">Embedded Office</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://canopen-stack.org/" target="_blank" rel="noopener" title="canopen-stack.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/embedded-office/canopen-stack/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/embedded-office/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>