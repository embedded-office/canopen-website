
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CANopen Stack Documentation">
      
      
        <meta name="author" content="Embedded Office">
      
      
        <link rel="canonical" href="https://canopen-stack.org/v4.3/api/node/">
      
      <link rel="icon" href="../../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.9">
    
    
      
        <title>CANopen Node - CANopen Stack</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#canopen-node" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CANopen Stack" class="md-header__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CANopen Stack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CANopen Node
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../start/installation/" class="md-tabs__link">
        Quickstart
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../usage/architecture/" class="md-tabs__link">
        CANopen Usage
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        API Functions
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../examples/flash-user-domain/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hardware/can/" class="md-tabs__link">
        Hardware Connection
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../license/" class="md-tabs__link">
      License
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CANopen Stack" class="md-nav__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    CANopen Stack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Quickstart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quickstart" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Quickstart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/installation/" class="md-nav__link">
        Install Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/structure/" class="md-nav__link">
        Repository Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstart/" class="md-nav__link">
        Quickstart Example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          CANopen Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CANopen Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          CANopen Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/architecture/" class="md-nav__link">
        Device Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/overview/" class="md-nav__link">
        CANopen Stack Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/control/" class="md-nav__link">
        Controlling the Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/dictionary/" class="md-nav__link">
        Using Object Dictionary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/tpdo/" class="md-nav__link">
        Transmit PDO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/emergency/" class="md-nav__link">
        Emergency Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/actions/" class="md-nav__link">
        Timed Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/callbacks/" class="md-nav__link">
        Callback Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Functions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          CANopen Node
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        CANopen Node
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#module-context" class="md-nav__link">
    Module Context
  </a>
  
    <nav class="md-nav" aria-label="Module Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-data" class="md-nav__link">
    Structure Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#member-functions" class="md-nav__link">
    Member Functions
  </a>
  
    <nav class="md-nav" aria-label="Member Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conodegeterr" class="md-nav__link">
    CONodeGetErr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeinit" class="md-nav__link">
    CONodeInit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeparaload" class="md-nav__link">
    CONodeParaLoad()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeprocess" class="md-nav__link">
    CONodeProcess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodestart" class="md-nav__link">
    CONodeStart()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodestop" class="md-nav__link">
    CONodeStop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dictionary/" class="md-nav__link">
        Object Dictionary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../emergency/" class="md-nav__link">
        Emergency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network/" class="md-nav__link">
        Network Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../object/" class="md-nav__link">
        Object Entry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tpdo/" class="md-nav__link">
        TPDO Event
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interface/" class="md-nav__link">
        CAN Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../timer/" class="md-nav__link">
        Timer Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../parameter/" class="md-nav__link">
        Parameter Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../csdo/" class="md-nav__link">
        SDO Client
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/flash-user-domain/" class="md-nav__link">
        Firmware Upload
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-calibration-mode/" class="md-nav__link">
        Calibration Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/write-serial-number/" class="md-nav__link">
        Write Serial Number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/use-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/usage-with-rtos-and-baremetal/" class="md-nav__link">
        RTOS and Baremetal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Hardware Connection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware Connection" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hardware Connection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/can/" class="md-nav__link">
        CAN Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/timer/" class="md-nav__link">
        Timer Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/nvm/" class="md-nav__link">
        NVM Driver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#module-context" class="md-nav__link">
    Module Context
  </a>
  
    <nav class="md-nav" aria-label="Module Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-data" class="md-nav__link">
    Structure Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#member-functions" class="md-nav__link">
    Member Functions
  </a>
  
    <nav class="md-nav" aria-label="Member Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conodegeterr" class="md-nav__link">
    CONodeGetErr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeinit" class="md-nav__link">
    CONodeInit()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeparaload" class="md-nav__link">
    CONodeParaLoad()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodeprocess" class="md-nav__link">
    CONodeProcess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodestart" class="md-nav__link">
    CONodeStart()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conodestop" class="md-nav__link">
    CONodeStop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/embedded-office/canopen-stack/edit/master/docs/api/node.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="canopen-node">CANopen Node<a class="headerlink" href="#canopen-node" title="Permanent link">#</a></h1>
<p>The node component is the central component and includes all other components for a single CANopen node. The node component provides the interface to the node lifecycle operations.</p>
<h2 id="module-context">Module Context<a class="headerlink" href="#module-context" title="Permanent link">#</a></h2>
<pre class="mermaid"><code>classDiagram
  CO_DICT *-- CO_NODE : Dict
  CO_IF   *-- CO_NODE : If
  CO_EMCY *-- CO_NODE : Emcy
  CO_TMR  *-- CO_NODE : Tmr
  CO_NMT  *-- CO_NODE : Nmt
  CO_SDO  *-- CO_NODE : Sdo
  CO_LSS  *-- CO_NODE : Lss
  CO_ERR   -- CO_NODE : Error
  CO_NODE *-- CO_RPDO : RPdo
  CO_NODE *-- CO_TPDO : TPdo
  CO_NODE *-- CO_TPDO_LINK : TMap
  CO_NODE *-- CO_SYNC : Sync
  CO_NODE  -- CO_NODE_SPEC
  CO_NODE  -- CO_NMT_RESET
  class CO_NODE {
    -uint8_t SdoBuf
    -uint32_t Baudrate
    -uint8_t NodeId
    +CONodeGetErr() CO_ERR
    +CONodeInit(spec)
    +CONodeParaLoad(type) int16_t
    +CONodeProcess()
    +CONodeStart()
    +CONodeStop()
  }
  class CO_ERR {
    &lt;&lt;enumeration&gt;&gt;
  }
  class CO_NMT_RESET {
    &lt;&lt;enumeration&gt;&gt;
  }</code></pre>
<h3 id="structure-data">Structure Data<a class="headerlink" href="#structure-data" title="Permanent link">#</a></h3>
<p>The class <code>CO_NODE</code> is defined within <code>co_core.h</code> and is responsible for the overall node management functions. The node is the central data point of a CANopen device. The following data members are in this class:</p>
<table>
<thead>
<tr>
<th>Data Member</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Baudrate</td>
<td><code>uint32_t</code></td>
<td>default CAN communication baudrate</td>
</tr>
<tr>
<td>Dict</td>
<td><code>CO_DICT</code></td>
<td>object dictionary object</td>
</tr>
<tr>
<td>Emcy</td>
<td><code>CO_EMCY</code></td>
<td>node emergency object</td>
</tr>
<tr>
<td>Error</td>
<td><code>CO_ERR</code></td>
<td>Internal error indentification code</td>
</tr>
<tr>
<td>If</td>
<td><code>CO_IF</code></td>
<td>CAN bus interface object</td>
</tr>
<tr>
<td>Lss</td>
<td><code>CO_LSS</code></td>
<td>LSS management object</td>
</tr>
<tr>
<td>Nmt</td>
<td><code>CO_NMT</code></td>
<td>node network management object</td>
</tr>
<tr>
<td>NodeId</td>
<td><code>uint8_t</code></td>
<td>default CANopen node ID</td>
</tr>
<tr>
<td>Sdo</td>
<td><code>CO_SDO</code></td>
<td>SDO server object array</td>
</tr>
<tr>
<td>SdoBuf</td>
<td><code>uint8_t*</code></td>
<td>pointer to SDO transfer buffer</td>
</tr>
<tr>
<td>Tmr</td>
<td><code>CO_TMR</code></td>
<td>timer manager object</td>
</tr>
<tr>
<td>TPdo[]</td>
<td><code>CO_TPDO</code></td>
<td>transmit PDO object array</td>
</tr>
<tr>
<td>TMap[]</td>
<td><code>CO_TPDO_LINK</code></td>
<td>transmit PDO mapping link array</td>
</tr>
<tr>
<td>RPdo[]</td>
<td><code>CO_RPDO</code></td>
<td>receive PDO object array</td>
</tr>
<tr>
<td>Sync</td>
<td><code>CO_SYNC</code></td>
<td>SYNC management object</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The data within this structure must never be manipulated without the corresponding class member functions. This can lead to unpredictable behavior of the node.</p>
</div>
<h3 id="member-functions">Member Functions<a class="headerlink" href="#member-functions" title="Permanent link">#</a></h3>
<p>During calling a member function of a class, the first parameter must be a reference to a corresponding object. This should be done as shown in the following examples:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_NODE</span><span class="w"> </span><span class="n">AppNode</span><span class="p">;</span><span class="w">                   </span><span class="cm">/* allocate application node    */</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeInit</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="w">       </span><span class="p">,...);</span><span class="w">  </span><span class="cm">/* call member of class CO_NODE */</span><span class="w"></span>
<span class="n">CODirFind</span><span class="w">  </span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">AppNode</span><span class="p">.</span><span class="n">Dir</span><span class="p">)</span><span class="w"> </span><span class="p">,...);</span><span class="w">  </span><span class="cm">/* call member of class CO_DIR  */</span><span class="w"></span>
<span class="n">COIfCanSend</span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">AppNode</span><span class="p">.</span><span class="n">If</span><span class="p">)</span><span class="w">  </span><span class="p">,...);</span><span class="w">  </span><span class="cm">/* call member of class CO_IF   */</span><span class="w"></span>
<span class="n">COEmcySet</span><span class="w">  </span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">AppNode</span><span class="p">.</span><span class="n">Emcy</span><span class="p">),...);</span><span class="w">  </span><span class="cm">/* call member of class CO_EMCY */</span><span class="w"></span>
<span class="n">COTmrCreate</span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">AppNode</span><span class="p">.</span><span class="n">Tmr</span><span class="p">)</span><span class="w"> </span><span class="p">,...);</span><span class="w">  </span><span class="cm">/* call member of class CO_TMR  */</span><span class="w"></span>
<span class="n">CONmtReset</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="n">AppNode</span><span class="p">.</span><span class="n">Nmt</span><span class="p">)</span><span class="w"> </span><span class="p">,...);</span><span class="w">  </span><span class="cm">/* call member of class CO_NMT  */</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<p>Note, that in all application source files, which needs to call one or more CANopen API functions, the header file <code>co_core.h</code> must be included.</p>
<p>The following table describes the API functions of the CANopen core module. These functions are implemented within the source file: <code>co_core.c/h</code></p>
<h4 id="conodegeterr">CONodeGetErr()<a class="headerlink" href="#conodegeterr" title="Permanent link">#</a></h4>
<p>If an error was detected, the error is cleared with this function call.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">CO_ERR</span><span class="w"> </span><span class="nf">CONodeGetErr</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<p>One of the following error codes:</p>
<table>
<thead>
<tr>
<th>Error code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CO_ERR_NONE</td>
<td>no error</td>
</tr>
<tr>
<td>CO_ERR_BAD_ARG</td>
<td>invalid argument</td>
</tr>
<tr>
<td>CO_ERR_OBJ_NOT_FOUND</td>
<td>searched object not found in directory</td>
</tr>
<tr>
<td>CO_ERR_OBJ_READ</td>
<td>error during reading an object entry</td>
</tr>
<tr>
<td>CO_ERR_OBJ_WRITE</td>
<td>error during writing an object entry</td>
</tr>
<tr>
<td>CO_ERR_OBJ_SIZE</td>
<td>read/write with a wrong size to object</td>
</tr>
<tr>
<td>CO_ERR_OBJ_MAP_LEN</td>
<td>invalid mapping length</td>
</tr>
<tr>
<td>CO_ERR_OBJ_MAP_TYPE</td>
<td>invalid mapping type</td>
</tr>
<tr>
<td>CO_ERR_OBJ_ACC</td>
<td>unsupported access</td>
</tr>
<tr>
<td>CO_ERR_OBJ_RANGE</td>
<td>value range of parameter exceeded</td>
</tr>
<tr>
<td>CO_ERR_OBJ_INCOMPATIBLE</td>
<td>incompatible parameter value</td>
</tr>
<tr>
<td>CO_ERR_PARA_IDX</td>
<td>wrong index for parameter type</td>
</tr>
<tr>
<td>CO_ERR_PARA_STORE</td>
<td>error during storing parameter</td>
</tr>
<tr>
<td>CO_ERR_PARA_RESTORE</td>
<td>error during restoring parameter</td>
</tr>
<tr>
<td>CO_ERR_PARA_LOAD</td>
<td>error during loading parameter</td>
</tr>
<tr>
<td>CO_ERR_CFG_1001_0</td>
<td>entry 1001:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1003_0</td>
<td>entry 1003:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1003_1</td>
<td>entry 1003:1 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1005_0</td>
<td>entry 1005:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1010_0</td>
<td>entry 1010:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1011_0</td>
<td>entry 1011:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1014_0</td>
<td>entry 1014:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1016</td>
<td>entry in 1016 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1017_0</td>
<td>entry 1017:0 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_CFG_1018</td>
<td>entry in 1018 is bad/not existing</td>
</tr>
<tr>
<td>CO_ERR_TMR_NO_ACT</td>
<td>no action available while creating</td>
</tr>
<tr>
<td>CO_ERR_TMR_INSERT</td>
<td>error during insert action in tmr-list</td>
</tr>
<tr>
<td>CO_ERR_TMR_CREATE</td>
<td>error during creating a timed action</td>
</tr>
<tr>
<td>CO_ERR_TMR_DELETE</td>
<td>error during deleting a timed action</td>
</tr>
<tr>
<td>CO_ERR_NMT_INIT</td>
<td>error during initializing NMT slave</td>
</tr>
<tr>
<td>CO_ERR_NMT_APP_RESET</td>
<td>error in resetting application</td>
</tr>
<tr>
<td>CO_ERR_NMT_COM_RESET</td>
<td>error in resetting communication</td>
</tr>
<tr>
<td>CO_ERR_NMT_MODE</td>
<td>action not allowed in current NMT mode</td>
</tr>
<tr>
<td>CO_ERR_LSS_LOAD</td>
<td>error during loading the LSS configuration</td>
</tr>
<tr>
<td>CO_ERR_LSS_STORE</td>
<td>error during writing the LSS configuration</td>
</tr>
<tr>
<td>CO_ERR_EMCY_BAD_ROOT</td>
<td>error in emcy structure, member: Root</td>
</tr>
<tr>
<td>CO_ERR_TPDO_COM_OBJ</td>
<td>config error in TPDO communication</td>
</tr>
<tr>
<td>CO_ERR_TPDO_MAP_OBJ</td>
<td>config error in TPDO mapping</td>
</tr>
<tr>
<td>CO_ERR_TPDO_OBJ_TRIGGER</td>
<td>error during trigger via an object</td>
</tr>
<tr>
<td>CO_ERR_TPDO_NUM_TRIGGER</td>
<td>error during trigger via a PDO number</td>
</tr>
<tr>
<td>CO_ERR_TPDO_INHIBIT</td>
<td>error during inhibit timer creation</td>
</tr>
<tr>
<td>CO_ERR_TPDO_EVENT</td>
<td>error during event timer creation</td>
</tr>
<tr>
<td>CO_ERR_RPDO_COM_OBJ</td>
<td>config error in RPDO communication</td>
</tr>
<tr>
<td>CO_ERR_RPDO_MAP_OBJ</td>
<td>config error in RPDO mapping</td>
</tr>
<tr>
<td>CO_ERR_SDO_READ</td>
<td>error during in SDO block reading</td>
</tr>
<tr>
<td>CO_ERR_SDO_WRITE</td>
<td>error during in SDO block writing</td>
</tr>
<tr>
<td>CO_ERR_SYNC_MSG</td>
<td>error during receive synchronous PDO</td>
</tr>
<tr>
<td>CO_ERR_IF_INIT</td>
<td>error during initialization</td>
</tr>
<tr>
<td>CO_ERR_IF_ENABLE</td>
<td>error during enabling the interface</td>
</tr>
<tr>
<td>CO_ERR_IF_FLUSH_RX</td>
<td>error during flushing RX interface</td>
</tr>
<tr>
<td>CO_ERR_IF_FLUSH_TX</td>
<td>error during flushing TX interface</td>
</tr>
<tr>
<td>CO_ERR_IF_RESET</td>
<td>error during resetting interface</td>
</tr>
<tr>
<td>CO_ERR_IF_CLOSE</td>
<td>error during closing the interface</td>
</tr>
<tr>
<td>CO_ERR_IF_READ</td>
<td>error during reading from interface</td>
</tr>
<tr>
<td>CO_ERR_IF_SEND</td>
<td>error during sending to interface</td>
</tr>
<tr>
<td>CO_ERR_SIG_INIT</td>
<td>error during initializing CAN signals</td>
</tr>
<tr>
<td>CO_ERR_SIG_CREATE</td>
<td>error during creating a needed signal</td>
</tr>
<tr>
<td>CO_ERR_MSG_INIT</td>
<td>error during message initialization</td>
</tr>
<tr>
<td>CO_ERR_MSG_CREATE</td>
<td>error during creating a message</td>
</tr>
<tr>
<td>CO_ERR_MSG_READ</td>
<td>error during reading a message</td>
</tr>
<tr>
<td>CO_ERR_TYPE_RD</td>
<td>error during reading type</td>
</tr>
<tr>
<td>CO_ERR_TYPE_CTRL</td>
<td>error during type control</td>
</tr>
<tr>
<td>CO_ERR_TYPE_WR</td>
<td>error during writing type</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>The following example demonstrates a diagnostic section of a CANopen startup sequence:</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSpec</span><span class="p">);</span><span class="w"></span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONodeGetErr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CO_ERR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CONodeStart</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* handle detected error according to your application */</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<h4 id="conodeinit">CONodeInit()<a class="headerlink" href="#conodeinit" title="Permanent link">#</a></h4>
<p>The specification of the CANopen node, and the CANopen node object itself is given as a parameter.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CONodeInit</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="n">spec</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
<tr>
<td>spec</td>
<td>pointer to node specification object</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<ul>
<li>none</li>
</ul>
<p><strong>Example</strong></p>
<p>The following example shows the external reference to the node specification AppSpec which is typically allocated within a configuration file and the allocation of the CANopen node memory AppNode.</p>
<div class="highlight"><pre><span></span><code><span class="k">extern</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="n">AppSpec</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">CO_NODE</span><span class="w">      </span><span class="n">AppNode</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>With these objects, the CANopen node can be initialized and started:</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSpec</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<h4 id="conodeparaload">CONodeParaLoad()<a class="headerlink" href="#conodeparaload" title="Permanent link">#</a></h4>
<p>A single parameter group will be loaded from NVM by calling the nvm driver function for reading data.</p>
<p>This function considers all parameter groups, which are linked to the parameter store index (1010h) within the object dictionary. Every not linked parameter group is not the scope of this function and must be handled within the application.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">int16_t</span><span class="w"> </span><span class="nf">CONodeParaLoad</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">CO_NMT_RESET</span><span class="w"> </span><span class="n">type</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
<tr>
<td>type</td>
<td>reset type, e.g. CO_RESET_COM or CO_RESET_NODE</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<ul>
<li><code>=0</code> : loading successful</li>
<li><code>&lt;0</code> : an error is detected and function aborted</li>
</ul>
<p><strong>Example</strong></p>
<p>The function <code>CONodeParaLoad()</code> is rarely called from within the applications. Typically the CANopen master requests the parameter loading via NMT command. In some special cases it is useful to initiate a reset from the slave application. The following example shows the sequence to load all parameters, which are linked to the object directory entries related to the communication profile (index 1000h to 1FFFh).</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONodeParaLoad</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="n">CO_RESET_COM</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">success</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONodeGetErr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* handle error during parameter loading */</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<h4 id="conodeprocess">CONodeProcess()<a class="headerlink" href="#conodeprocess" title="Permanent link">#</a></h4>
<p>This function is responsible for performing the necessary response to a received CAN frame.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CONodeProcess</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<ul>
<li>none</li>
</ul>
<p><strong>Example</strong></p>
<p>The function <code>CONodeProcess()</code> is most likely called in the background function loop. When using an RTOS, the CANopen node processing from within a separate task is possible, too. In this case, the blocking mode is suitable for most applications:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CanRxTask</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">arg_p</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">arg_p</span><span class="p">;</span><span class="w">   </span><span class="cm">/* task parameter is a ptr to   */</span><span class="w"></span>
<span class="w">                                      </span><span class="cm">/* CANopen node object          */</span><span class="w"></span>

<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                          </span><span class="cm">/* endless RTOS task loop       */</span><span class="w"></span>
<span class="w">    </span><span class="n">CONodeProcess</span><span class="p">(</span><span class="n">node</span><span class="p">);</span><span class="w">              </span><span class="cm">/* wait and process CAN frames  */</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="conodestart">CONodeStart()<a class="headerlink" href="#conodestart" title="Permanent link">#</a></h4>
<p>The node will change into the PRE-OPERATIONAL state and is ready for communication.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CONodeStart</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<ul>
<li>none</li>
</ul>
<p><strong>Example</strong></p>
<p>The following example shows the typical startup of a CANopen node AppNode with the specification AppSpec:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_ERR</span><span class="w"> </span><span class="n">err</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSpec</span><span class="p">);</span><span class="w"></span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONodeGetErr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CO_ERR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CONodeStart</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* error handling and diagnostics */</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<h4 id="conodestop">CONodeStop()<a class="headerlink" href="#conodestop" title="Permanent link">#</a></h4>
<p>This function removes the CANopen node from the CAN bus interface.</p>
<p>To reactivate a stopped CANopen node, the functions <code>CONodeInit()</code> and <code>CONodeStart()</code> must be called again.</p>
<p><strong>Prototype</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">CONodeStop</span><span class="p">(</span><span class="n">CO_NODE</span><span class="w"> </span><span class="o">*</span><span class="n">node</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>node</td>
<td>pointer to node object</td>
</tr>
</tbody>
</table>
<p><strong>Returned Value</strong></p>
<ul>
<li>none</li>
</ul>
<p><strong>Example</strong></p>
<p>The following example shows the sequence for restarting a CANopen node AppNode. Assuming the CANopen stack is initialized and started before, we can stop and re-initialize the stack to reset the node completely.</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeStop</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="cm">/* do something with stopped CANopen node */</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
<span class="n">CONodeInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSpec</span><span class="p">);</span><span class="w"></span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONodeGetErr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CO_ERR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CONodeStart</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="cm">/* error handling and diagnostics */</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="o">:</span><span class="w"></span>
</code></pre></div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The shown example is NOT identical to the standard node reset which can be requested from the CANopen master or via the API function <code>CONmtReset()</code>. The difference is: the example will transmit the boot-up message.</p>
</div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../usage/configuration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Configuration" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Configuration
            </div>
          </div>
        </a>
      
      
        
        <a href="../dictionary/" class="md-footer__link md-footer__link--next" aria-label="Next: Object Dictionary" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Object Dictionary
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; by <a href="https://www.embedded-office.com/">Embedded Office</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://canopen-stack.org/" target="_blank" rel="noopener" title="canopen-stack.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/embedded-office/canopen-stack/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/embedded-office/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>