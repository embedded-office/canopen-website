
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="CANopen Stack Documentation">
      
      
        <meta name="author" content="Embedded Office">
      
      
        <link rel="canonical" href="https://canopen-stack.org/v4.3/usage/configuration/">
      
      <link rel="icon" href="../../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.9">
    
    
      
        <title>Configuration - CANopen Stack</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CANopen Stack" class="md-header__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CANopen Stack
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../start/installation/" class="md-tabs__link">
        Quickstart
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../architecture/" class="md-tabs__link md-tabs__link--active">
        CANopen Usage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../api/node/" class="md-tabs__link">
        API Functions
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../examples/flash-user-domain/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hardware/can/" class="md-tabs__link">
        Hardware Connection
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../license/" class="md-tabs__link">
      License
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CANopen Stack" class="md-nav__button md-logo" aria-label="CANopen Stack" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17H7V7h10m4 4V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3H9v2H7c-1.11 0-2 .89-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2m-6 2h-2v-2h2m2-2H9v6h6V9Z"/></svg>

    </a>
    CANopen Stack
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embedded-office/canopen-stack/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    canopen-stack
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Quickstart
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quickstart" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Quickstart
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/installation/" class="md-nav__link">
        Install Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/structure/" class="md-nav__link">
        Repository Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstart/" class="md-nav__link">
        Quickstart Example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          CANopen Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CANopen Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          CANopen Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        Device Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        CANopen Stack Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../control/" class="md-nav__link">
        Controlling the Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dictionary/" class="md-nav__link">
        Using Object Dictionary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tpdo/" class="md-nav__link">
        Transmit PDO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../emergency/" class="md-nav__link">
        Emergency Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        Timed Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../callbacks/" class="md-nav__link">
        Callback Interface
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration Options
  </a>
  
    <nav class="md-nav" aria-label="Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-parameter" class="md-nav__link">
    Application Parameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-definition" class="md-nav__link">
    Domain Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heartbeat-consumer-definition" class="md-nav__link">
    Heartbeat Consumer Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-code-definition" class="md-nav__link">
    Emergency Code Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-dictionary" class="md-nav__link">
    Object Dictionary
  </a>
  
    <nav class="md-nav" aria-label="Object Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-entry-key" class="md-nav__link">
    Object Entry Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-type-reference" class="md-nav__link">
    Object Type Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-data-reference" class="md-nav__link">
    Object Data Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pdo-mapping-value" class="md-nav__link">
    PDO Mapping Value
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transmit-pdo-communication" class="md-nav__link">
    Transmit PDO Communication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timer-memory-block" class="md-nav__link">
    Timer Memory Block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdo-transfer-memory" class="md-nav__link">
    SDO Transfer Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-specification" class="md-nav__link">
    Node Specification
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          API Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Functions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/node/" class="md-nav__link">
        CANopen Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dictionary/" class="md-nav__link">
        Object Dictionary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/emergency/" class="md-nav__link">
        Emergency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/network/" class="md-nav__link">
        Network Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/object/" class="md-nav__link">
        Object Entry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/tpdo/" class="md-nav__link">
        TPDO Event
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/interface/" class="md-nav__link">
        CAN Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/timer/" class="md-nav__link">
        Timer Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/parameter/" class="md-nav__link">
        Parameter Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/csdo/" class="md-nav__link">
        SDO Client
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/flash-user-domain/" class="md-nav__link">
        Firmware Upload
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-calibration-mode/" class="md-nav__link">
        Calibration Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/write-serial-number/" class="md-nav__link">
        Write Serial Number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/setup-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary I
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/use-dynamic-object-dictionary/" class="md-nav__link">
        Dynamic Dictionary II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/usage-with-rtos-and-baremetal/" class="md-nav__link">
        RTOS and Baremetal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Hardware Connection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware Connection" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hardware Connection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/can/" class="md-nav__link">
        CAN Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/timer/" class="md-nav__link">
        Timer Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/nvm/" class="md-nav__link">
        NVM Driver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    Configuration Options
  </a>
  
    <nav class="md-nav" aria-label="Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#application-parameter" class="md-nav__link">
    Application Parameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-definition" class="md-nav__link">
    Domain Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heartbeat-consumer-definition" class="md-nav__link">
    Heartbeat Consumer Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emergency-code-definition" class="md-nav__link">
    Emergency Code Definition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-dictionary" class="md-nav__link">
    Object Dictionary
  </a>
  
    <nav class="md-nav" aria-label="Object Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-entry-key" class="md-nav__link">
    Object Entry Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-type-reference" class="md-nav__link">
    Object Type Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-data-reference" class="md-nav__link">
    Object Data Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pdo-mapping-value" class="md-nav__link">
    PDO Mapping Value
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transmit-pdo-communication" class="md-nav__link">
    Transmit PDO Communication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timer-memory-block" class="md-nav__link">
    Timer Memory Block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdo-transfer-memory" class="md-nav__link">
    SDO Transfer Memory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-specification" class="md-nav__link">
    Node Specification
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/embedded-office/canopen-stack/edit/master/docs/usage/configuration.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">#</a></h1>
<h2 id="configuration-options">Configuration Options<a class="headerlink" href="#configuration-options" title="Permanent link">#</a></h2>
<h3 id="application-parameter">Application Parameter<a class="headerlink" href="#application-parameter" title="Permanent link">#</a></h3>
<p>This chapter describes the specification of the parameter groups. The parameter structures are highly application-specific and shall be defined within the application header files.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">COM_PARA_MEM_T</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">Heartbeat_1017_0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">COM_PARA_MEM</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">APP_PARA_MEM_T</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">DemoLong</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">DemoWord</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w">  </span><span class="n">DemoByte</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">APP_PARA_MEM</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">ALL_PARA_MEM_T</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">COM_PARA_MEM</span><span class="w"> </span><span class="n">Com</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">APP_PARA_MEM</span><span class="w"> </span><span class="n">App</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">ALL_PARA_MEM</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>This example defines multiple parameter groups:</p>
<ul>
<li>
<p>a parameter group containing the communication profile parameter (COM_PARA_MEM)</p>
</li>
<li>
<p>a parameter group containing the application-specific parameter (APP_PARA_MEM)</p>
</li>
<li>
<p>The third definition collects the previously defined parameter groups to a single parameter group to allow loading and storage of both parameter groups with single access (ALL_PARA_MEM)</p>
</li>
</ul>
<p>These structure type definitions are recommended to force the linker to place the corresponding parameter variables in a consecutive memory block. Any other technique to get this result is reasonable, too.</p>
<p>Within the object directory configuration, the parameter group information structures shall be allocated and filled with the corresponding parameter group information settings.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">CO_PARA</span><span class="w"> </span><span class="n">AllParaObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mf">0L</span><span class="p">,</span><span class="w">                            </span><span class="cm">/* placement in non-volatile memory */</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="n">ALL_PARA_MEM</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">Para</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ParaDef</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_RESET_NODE</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s">&quot;all.txt&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_PARA___E</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">CO_PARA</span><span class="w"> </span><span class="n">ComParaObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mf">0L</span><span class="p">,</span><span class="w">                            </span><span class="cm">/* placement in non-volatile memory */</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="n">COM_PARA_MEM</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">Para</span><span class="p">.</span><span class="n">Com</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ParaDef</span><span class="p">.</span><span class="n">Com</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_RESET_COM</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s">&quot;com.txt&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_PARA___E</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">CO_PARA</span><span class="w"> </span><span class="n">AppParaObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="n">COM_PARA_MEM</span><span class="p">),</span><span class="w">          </span><span class="cm">/* placement in non-volatile memory */</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="n">APP_PARA_MEM</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">Para</span><span class="p">.</span><span class="n">App</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ParaDef</span><span class="p">.</span><span class="n">App</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_RESET_NODE</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="s">&quot;app.txt&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_PARA___E</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>The following descriptions explains the details of the table members:</p>
<ul>
<li>
<p>The parameter group size [<code>uint32_t</code>] shall be set to the number of bytes within the parameter group memory area</p>
</li>
<li>
<p>The start address of the parameter group memory area [<code>uint8_t *</code>] shall be set to the first address of the parameter group memory</p>
</li>
<li>
<p>The reset type [<code>CO_NMT_RESET</code>] shall be set to one of the following values:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Reset Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CO_RESET_COM</code></td>
<td>parameter group shall be set to the stored values on communication reset</td>
</tr>
<tr>
<td><code>CO_RESET_NODE</code></td>
<td>parameter group shall be set to the stored values on node reset</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>The pointer to the identification [<code>void *</code>] of this parameter group is not used by the CANopen stack. This member is intended to identify the different parameter groups within the application callback functions, related to the parameter handling. Any type of identification may be used for this purpose. In the shown example, an identification string is used.</p>
</li>
<li>
<p>The parameter group feature indication [<code>uint32_t</code>], which is returned on a simple object entry read access, shall be set to one of the following values:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Parameter Feature</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CO_PARA____</code></td>
<td>parameter group is disabled</td>
</tr>
<tr>
<td><code>CO_PARA___E</code></td>
<td>parameter group is enabled and will be stored on command</td>
</tr>
<tr>
<td><code>CO_PARA__A_</code></td>
<td>parameter group is enabled and will be stored autonomously</td>
</tr>
<tr>
<td><code>CO_PARA__AE</code></td>
<td>parameter group is enabled and will be stored on command and autonomously</td>
</tr>
</tbody>
</table>
<p><em>Note: "autonomously" means without CANopen network interaction; e.g. the application is responsible for the storage of these parameter groups.</em></p>
<p>The object entries, handling the saving and restoring of parameters, shall be set for the example to the following values:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1010</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED8</span><span class="w"> </span><span class="o">|</span><span class="n">CO_OBJ_D__R_</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">        </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="mh">0x03</span><span class="p">)</span><span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1010</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AllParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1010</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">ComParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1010</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AppParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>

<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1011</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED8</span><span class="w"> </span><span class="o">|</span><span class="n">CO_OBJ_D__R_</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">        </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="mh">0x03</span><span class="p">)</span><span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1011</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AllParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1011</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">ComParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1011</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TPARA</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AppParaObj</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
</code></pre></div>
<p>The single parameters are most likely used within the object directory. The example definition of an object entry is shown for one parameter:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1017</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED16</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">Para</span><span class="p">.</span><span class="n">App</span><span class="p">.</span><span class="n">DemoWord</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
</code></pre></div>
<h3 id="domain-definition">Domain Definition<a class="headerlink" href="#domain-definition" title="Permanent link">#</a></h3>
<p>This chapter describes the specification of an object with the type <code>domain</code>. The domains are highly application-specific and are usable in a wide range.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_OBJ_DOM</span><span class="w"> </span><span class="n">AppDomain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">sizeof</span><span class="p">(</span><span class="n">APP_PARA_MEM</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="o">&amp;</span><span class="n">AppParaObj</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>This example defines a domain information object for the already allocated memory space of the variable AppParaObj (a variable within the application parameter example). This allows access to the complete application parameter set with SDO segmented or block transfers from within the CANopen network.</p>
<p>The following descriptions explains the details of the structure members:</p>
<ul>
<li>
<p>The domain offset [<code>uint32_t</code>] shall be set to 0 to access the first byte of the domain</p>
</li>
<li>
<p>The domain size [<code>uint32_t</code>] in bytes shall be set to the number of bytes within the domain memory area</p>
</li>
<li>
<p>The start address of the domain memory area [<code>uint8_t *</code>] shall be set to the first address of the domain</p>
</li>
</ul>
<p>The object entry, presenting the example domain above to the CANopen network, should be defined within the manufacturer-specific area (e.g. index 0x2500, subindex 0x00) with the following object directory entry definition line:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2500</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_DOMAIN</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_TDOMAIN</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AppDomain</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
</code></pre></div>
<p>Note: The standard type implementation <code>CO_TDOMAIN</code> assumes, that the domain memory is located in RAM and is direct accessible. For other types of domain, a project-specific domain type shall be implemented.</p>
<h3 id="heartbeat-consumer-definition">Heartbeat Consumer Definition<a class="headerlink" href="#heartbeat-consumer-definition" title="Permanent link">#</a></h3>
<p>This chapter describes the specification of a heartbeat consumer object.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_HBCONS</span><span class="w"> </span><span class="n">AppHbConsumer_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="cm">/* optional somewhere during startup: */</span><span class="w"></span>

<span class="n">AppHbConsumer_1</span><span class="p">.</span><span class="n">Time</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">  </span><span class="cm">/* heartbeat consumer time of 100ms */</span><span class="w"></span>
<span class="n">AppHbConsumer_1</span><span class="p">.</span><span class="n">NodeId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">   </span><span class="cm">/* heartbeat consumer for node 42   */</span><span class="w"></span>
</code></pre></div>
<p>This example defines a heartbeat consumer object. The initialization of all members with 0 is good practice, but not mandatory. The heartbeat consumer  object allows the configuration of a heartbeat consumer with SDO transfers from within the CANopen network or during configuration time.</p>
<p>The following descriptions explains the details of the structure members, which should be initialized (via application - or via an SDO write access):</p>
<ul>
<li>
<p>The Time [<code>uint16_t</code>] shall be set to the heartbeat consumer time in ms. The monitoring of the addressed heartbeat starts after the first reception of the addressed heartbeat.</p>
</li>
<li>
<p>The NodeId [<code>uint8_t</code>] shall be set to the CANopen Node-ID of the heartbeat producer, which shall be consumed.</p>
</li>
</ul>
<p>The object entry, presenting the example domain above to the CANopen network, should be defined within the heartbeat consumer area (index 0x1016, subindex 0x01 ff.) with the following object directory entry definition line:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1016</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CO_DOMAIN</span><span class="o">|</span><span class="n">CO_OBJ_D__R_</span><span class="p">),</span><span class="w">           </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span><span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"> </span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1016</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_DOMAIN</span><span class="o">|</span><span class="n">CO_OBJ____RW</span><span class="p">),</span><span class="w"> </span><span class="n">CO_THB_CONS</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">AppHbConsumer_1</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
</code></pre></div>
<p>Note: Even, if the members "Time" and "NodeId" are static, the heartbeat consumer must be placed in RAM. There are multiple internal members for managing the heartbeat consumer included as well.</p>
<h3 id="emergency-code-definition">Emergency Code Definition<a class="headerlink" href="#emergency-code-definition" title="Permanent link">#</a></h3>
<p>This chapter describes the definition of the Emergency error code table. This table must be in line with the Emergency identifier enumeration.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_EMCY_TBL</span><span class="w"> </span><span class="n">AppEmcyCode</span><span class="p">[</span><span class="n">CO_EMCY_N</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_EMCY_REG_GENERAL</span><span class="p">,</span><span class="w"> </span><span class="n">CO_EMCY_CODE_GEN_ERR</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="cm">/* APP_EMCY_1 */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_EMCY_REG_CURRENT</span><span class="p">,</span><span class="w"> </span><span class="n">CO_EMCY_CODE_CUR_ERR</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="cm">/* APP_EMCY_2 */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_EMCY_REG_VOLTAGE</span><span class="p">,</span><span class="w"> </span><span class="n">CO_EMCY_CODE_VOL_ERR</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="cm">/* APP_EMCY_3 */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">CO_EMCY_REG_TEMP</span><span class="w">   </span><span class="p">,</span><span class="w"> </span><span class="n">CO_EMCY_CODE_TEMP_ERR</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="cm">/* APP_EMCY_4 */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>This example defines 4 emergency codes within different error register classes (first entry of each line). The emergency codes itself are based on the standard emergency codes (second entry of each line).</p>
<p>The following descriptions explains the details of the table members:</p>
<ul>
<li>The error register bit definition [<code>uint8_t</code>] shall be set to one of the following values:</li>
</ul>
<table>
<thead>
<tr>
<th>Error Register Bit</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CO_EMCY_REG_GENERAL</code></td>
<td>general error (includes all other classes)</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_CURRENT</code></td>
<td>error class: current</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_VOLTAGE</code></td>
<td>error class: voltage</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_TEMP</code></td>
<td>error class: temperature</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_COM</code></td>
<td>error class: communication</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_PROFILE</code></td>
<td>error class: profile specific error</td>
</tr>
<tr>
<td><code>CO_EMCY_REG_MANUFACTURER</code></td>
<td>error class: manufacturer specific</td>
</tr>
</tbody>
</table>
<ul>
<li>The emergency error code [<code>uint16_t</code>] shall be set to the application-specific error code. This error code should be defined acc. the CANopen specification.</li>
</ul>
<p>The EMCY handling and object directory manipulations with these definitions is performed by the CANopen stack without further definitions.</p>
<p>The application is able to register, clear, reset, check and count emergency errors with the provided function API. For details on this API, see Reference Manual [2].</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">COEmcyGet</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Node</span><span class="p">.</span><span class="n">Emcy</span><span class="p">,</span><span class="w"> </span><span class="n">APP_EMCY_1</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>This example gets the current status of the Emergency error with the given emergency identifier <code>APP_EMCY_1</code>.</p>
<h3 id="object-dictionary">Object Dictionary<a class="headerlink" href="#object-dictionary" title="Permanent link">#</a></h3>
<p>This chapter describes the configuration table representing the CANopen object dictionary. This is the central element of the CANopen node. This table can be placed in RAM or in ROM. The placement decides, which access type is possible with direct entries. Most likely this table is placed in ROM because RAM is in most cases the limited resource.</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">AppObjDir</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjEntryKey_0</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjTypeRef_0</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjData_0</span><span class="o">&gt;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="cm">/* first object entry */</span><span class="w"></span>
<span class="w">      </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjEntryKey_N</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjTypeRef_N</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ObjData_N</span><span class="o">&gt;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="cm">/* last object entry  */</span><span class="w"></span>

<span class="w">  </span><span class="n">CO_OBJ_DIR_ENDMARK</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>Each line represents a single object entry definition. The collection of object entries shall be sorted in ascending order in index and subindex.</p>
<p>The following chapters describes the details of the table members.</p>
<h4 id="object-entry-key">Object Entry Key<a class="headerlink" href="#object-entry-key" title="Permanent link">#</a></h4>
<p>The object entry key [<code>uint32_t</code>] shall be constructed with the following macro:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_KEY</span><span class="p">(</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">subindex</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">specification</span><span class="o">&gt;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<ul>
<li>
<p>The index is a 16bit value with possible range from 0x0000 to 0xFFFF</p>
</li>
<li>
<p>The subindex is an 8bit value with the possible range from 0x00 to 0xFF</p>
</li>
</ul>
<p><em>Note: to be compliant to the CANopen specification, the defined index and subindex ranges shall be considered.</em></p>
<ul>
<li>The object specification shall be set to a bitwise disjunction of the listed values for object entry size and the object access mode.</li>
</ul>
<table>
<thead>
<tr>
<th>Object Entry Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CO_UNSIGNED8</code></td>
<td>CANopen Datatype: UNSIGNED8</td>
</tr>
<tr>
<td><code>CO_UNSIGNED16</code></td>
<td>CANopen Datatype: UNSIGNED16</td>
</tr>
<tr>
<td><code>CO_UNSIGNED32</code></td>
<td>CANopen Datatype: UNSIGNED32</td>
</tr>
<tr>
<td><code>CO_SIGNED8</code></td>
<td>CANopen Datatype: SIGNED8</td>
</tr>
<tr>
<td><code>CO_SIGNED16</code></td>
<td>CANopen Datatype: SIGNED16</td>
</tr>
<tr>
<td><code>CO_SIGNED32</code></td>
<td>CANopen Datatype: SIGNED32</td>
</tr>
<tr>
<td><code>CO_DOMAIN</code></td>
<td>CANopen Datatype: DOMAIN</td>
</tr>
<tr>
<td><code>CO_STRING</code></td>
<td>CANopen Datatype: STRING</td>
</tr>
</tbody>
</table>
<p>Object entry access mode field shall be set to one of the following values:</p>
<table>
<thead>
<tr>
<th>Object Access Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CO_OBJ____R_</code></td>
<td>Read Only</td>
</tr>
<tr>
<td><code>CO_OBJ_____W</code></td>
<td>Write Only</td>
</tr>
<tr>
<td><code>CO_OBJ____RW</code></td>
<td>Read/Write</td>
</tr>
<tr>
<td><code>CO_OBJ___PR_</code></td>
<td>Read Only, PDO Map</td>
</tr>
<tr>
<td><code>CO_OBJ___P_W</code></td>
<td>Write Only, PDO Map</td>
</tr>
<tr>
<td><code>CO_OBJ___PRW</code></td>
<td>Read/Write, PDO Map</td>
</tr>
<tr>
<td><code>CO_OBJ__N_R_</code></td>
<td>Read Only, + Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ__N__W</code></td>
<td>Write Only, - Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ__N_RW</code></td>
<td>Read/Write, &plusmn; Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ__NPR_</code></td>
<td>Read Only, PDO Map, + Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ__NP_W</code></td>
<td>Write Only, PDO Map, - Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ__NPRW</code></td>
<td>Read/Write, PDO Map, &plusmn; Node-Id</td>
</tr>
<tr>
<td><code>CO_OBJ_D__R_</code></td>
<td>Read Only, Direct Access</td>
</tr>
<tr>
<td><code>CO_OBJ_D___W</code></td>
<td>Write Only, Direct Access</td>
</tr>
<tr>
<td><code>CO_OBJ_D__RW</code></td>
<td>Read/Write, Direct Access</td>
</tr>
<tr>
<td><code>CO_OBJ_DN_R_</code></td>
<td>Read Only, + Node-Id, Direct Access</td>
</tr>
<tr>
<td><code>CO_OBJ_DN__W</code></td>
<td>Write Only, - Node-Id, Direct Access</td>
</tr>
<tr>
<td><code>CO_OBJ_DN_RW</code></td>
<td>Read/Write, &plusmn; Node-Id, Direct Access</td>
</tr>
</tbody>
</table>
<p><em>Note: The access types read-only, write-only and read/write specifies the possible access types from the CANopen network to that object entry. The application is always able to read and write the object entry.</em></p>
<p>When placing the object entry table in read-only memory (with keyword "const"), the direct access modes (tread pointer as object entry value), are limited to read-only access, even by the application.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>When using architectures with pointer types lower than 32bit (e.g. 16bit microcontrollers), you can store only values up to the pointer width directly in the object dictionary. For larger values declare a constant variable and place a pointer to this constant into the object dictionary.</p>
</div>
<h4 id="object-type-reference">Object Type Reference<a class="headerlink" href="#object-type-reference" title="Permanent link">#</a></h4>
<p>The object entry type structure reference [<code>CO_OBJ_TYPE *</code>] shall be set to one of the following values:</p>
<table>
<thead>
<tr>
<th>Object Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 (zero)</td>
<td>Basic type, no special handling</td>
</tr>
<tr>
<td><code>CO_TASYNC</code></td>
<td>Asynchronous PDO signal entry</td>
</tr>
<tr>
<td><code>CO_TDOMAIN</code></td>
<td>Domain entry</td>
</tr>
<tr>
<td><code>CO_TEMCY</code></td>
<td>EMCY history entry</td>
</tr>
<tr>
<td><code>CO_TEMCYID</code></td>
<td>Dynamic EMCY COB-ID</td>
</tr>
<tr>
<td><code>CO_TEVENT</code></td>
<td>PDO event timer entry</td>
</tr>
<tr>
<td><code>CO_THB_PROD</code>*)</td>
<td>Heartbeat producer entry</td>
</tr>
<tr>
<td><code>CO_THB_CONS</code></td>
<td>Heartbeat consumer entry</td>
</tr>
<tr>
<td><code>CO_TPARA</code></td>
<td>Parameter group store/restore entry</td>
</tr>
<tr>
<td><code>CO_TPDOID</code></td>
<td>Dynamic PDO COB-ID entry</td>
</tr>
<tr>
<td><code>CO_TPDOMAP</code></td>
<td>Dynamic PDO mapping entry</td>
</tr>
<tr>
<td><code>CO_TPDONUM</code></td>
<td>Dynamic PDO number of mapping entries</td>
</tr>
<tr>
<td><code>CO_TPDOTYPE</code></td>
<td>Dynamic PDO transmission type entry</td>
</tr>
<tr>
<td><code>CO_TSDOID</code></td>
<td>Dynamic SDO COB-ID entry</td>
</tr>
<tr>
<td><code>CO_TSTRING</code></td>
<td>Unlimited read-only string</td>
</tr>
<tr>
<td><code>CO_TSYNCID</code></td>
<td>Dynamic SYNC COB-ID</td>
</tr>
</tbody>
</table>
<p>*) The object type <code>CO_THEARTBEAT</code> is obsolete and replaced by the new <code>CO_THB_PROD</code>. We keep the previous type for compatibility reasons, but you should change your object type to the new one.</p>
<h4 id="object-data-reference">Object Data Reference<a class="headerlink" href="#object-data-reference" title="Permanent link">#</a></h4>
<p>The object data reference [<code>CO_DATA</code>] shall be set in dependence to the object flags and the object type structure reference to different values.</p>
<table>
<thead>
<tr>
<th>Object Type</th>
<th>Object Flags</th>
<th>Required Content in Data Pointer</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 (zero)</td>
<td><code>CO_OBJ__xxxx</code></td>
<td>address of variable</td>
</tr>
<tr>
<td>0 (zero)</td>
<td><code>CO_OBJ_Dxxxx</code></td>
<td>value in data pointer</td>
</tr>
<tr>
<td><code>CO_TASYNC</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TDOMAIN</code></td>
<td>N/A</td>
<td>address of domain info structure</td>
</tr>
<tr>
<td><code>CO_TEMCY</code></td>
<td>N/A</td>
<td>address of EMCY history entry</td>
</tr>
<tr>
<td><code>CO_TEMCYID</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TEVENT</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_THB_PROD</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_THB_CONS</code></td>
<td>N/A</td>
<td>address of heartbeat consumer structure</td>
</tr>
<tr>
<td><code>CO_TPARA</code></td>
<td>N/A</td>
<td>address of parameter group info structure</td>
</tr>
<tr>
<td><code>CO_TPDOID</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TPDOMAP</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TPDONUM</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TPDOTYPE</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TSDOID</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
<tr>
<td><code>CO_TSTRING</code></td>
<td>N/A</td>
<td>address of string info structure</td>
</tr>
<tr>
<td><code>CO_TSYNCID</code></td>
<td>N/A</td>
<td>address of variable</td>
</tr>
</tbody>
</table>
<h4 id="pdo-mapping-value">PDO Mapping Value<a class="headerlink" href="#pdo-mapping-value" title="Permanent link">#</a></h4>
<p>For the PDO mapping object entries, we must encode the object data value in the following way:</p>
<figure>
<p><img alt="PDO Mapping" src="../../assets/images/illustrations/pdo-mapping.svg" title="PDO Mapping Concept" width="700px" /></p>
</figure>
<p>You can use the macro <code>CO_LINK</code> to get the value in a readable way:</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_LINK</span><span class="p">(</span><span class="o">&lt;</span><span class="n">destination</span><span class="o">-</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">destination</span><span class="o">-</span><span class="n">subindex</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">mapping</span><span class="o">-</span><span class="n">bits</span><span class="o">&gt;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>For example, when you want to map an object entry with a size of 8 bits from index 0x2100, subindex 0x02 to your PDO, the mapping entry in the object dictionary is:</p>
<div class="highlight"><pre><span></span><code><span class="cm">/* variable for object entry data */</span><span class="w"></span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">MyData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0u</span><span class="p">;</span><span class="w"></span>

<span class="cm">/* object dictionary */</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">CO_OBJ</span><span class="w"> </span><span class="n">AppObjDir</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* PDO mapping entry */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x1A00</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED32</span><span class="o">|</span><span class="n">CO_OBJ_D__R_</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="n">CO_LINK</span><span class="p">(</span><span class="mh">0x2100</span><span class="p">,</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">))},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="cm">/* mapped object entry */</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="n">CO_KEY</span><span class="p">(</span><span class="mh">0x2100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">CO_UNSIGNED8</span><span class="w"> </span><span class="o">|</span><span class="n">CO_OBJ___PR_</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_DATA</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">MyData</span><span class="p">)},</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="n">CO_OBJ_DIR_ENDMARK</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p><em>Note: this CANopen stack supports the mapping of 8, 16, 24 or 32bits.</em></p>
<h3 id="transmit-pdo-communication">Transmit PDO Communication<a class="headerlink" href="#transmit-pdo-communication" title="Permanent link">#</a></h3>
<p>This chapter describes the PDO communication record for a transmit PDO. The object record contains the following object entries:</p>
<table>
<thead>
<tr>
<th>Index:sub</th>
<th>Type</th>
<th>Object Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1800h:00</code></td>
<td><code>UNSIGNED8</code></td>
<td><code>const</code></td>
<td><em>Communication Object TPDO #0</em></td>
</tr>
<tr>
<td><code>1800h:01</code></td>
<td><code>UNSIGNED32</code></td>
<td><code>const</code> or <code>rw</code> with <code>CO_TPDOID</code></td>
<td>COB-ID used by TPDO</td>
</tr>
<tr>
<td><code>1800h:02</code></td>
<td><code>UNSIGNED8</code></td>
<td><code>const</code> or <code>rw</code> with <code>CO_TPDOTYPE</code></td>
<td>Transmission type</td>
</tr>
<tr>
<td><code>1800h:03</code></td>
<td><code>UNSIGNED16</code></td>
<td><code>const</code> or <code>rw</code></td>
<td>Inhibit time with LSB 100us (0=disable)</td>
</tr>
<tr>
<td><code>1800h:04</code></td>
<td>n/a</td>
<td>n/a</td>
<td>reserved, shall not be implemented</td>
</tr>
<tr>
<td><code>1800h:05</code></td>
<td><code>UNSIGNED16</code></td>
<td><code>const</code> or <code>rw</code> with <code>CO_TEVENT</code></td>
<td>Event timer LSB 1ms (0=disable)</td>
</tr>
</tbody>
</table>
<p>The index identifies which PDO is configured (1800h: TPDO #0, 1801h: TPDO #1, ..., 19ffh: TPDO #511). The object type is <code>const</code> in case of static communication settings. When the communication settings are parameters or dynamic variables, the listed object types ensures the correct change behavior for these records.</p>
<p>The encoding for the transmission type (subindex 2) is standardized:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>00h</td>
<td>acyclic</td>
</tr>
<tr>
<td>01h..F0h</td>
<td>cyclic every n-th SYNC (1..240)</td>
</tr>
<tr>
<td>F1h..FDh</td>
<td>reserved</td>
</tr>
<tr>
<td>FEh</td>
<td>event-driven (manufacturer specific)</td>
</tr>
<tr>
<td>FFh</td>
<td>event-driven (device profile specific)</td>
</tr>
</tbody>
</table>
<h3 id="timer-memory-block">Timer Memory Block<a class="headerlink" href="#timer-memory-block" title="Permanent link">#</a></h3>
<p>This chapter describes the allocation of the data memory, required by the CANopen timer module. The presented source code lines represent the default and must not be changed. The typical need on changing this memory allocation is to place this memory to a specific place in internal or external RAM.</p>
<div class="highlight"><pre><span></span><code><span class="n">CO_TMR_MEM</span><span class="w"> </span><span class="n">AppTmrMem</span><span class="p">[</span><span class="n">CO_TMR_N</span><span class="p">];</span><span class="w"></span>
</code></pre></div>
<h3 id="sdo-transfer-memory">SDO Transfer Memory<a class="headerlink" href="#sdo-transfer-memory" title="Permanent link">#</a></h3>
<p>This chapter describes the allocation of the data memory, required by the CANopen SDO server module. The presented source code lines represent the default and must not be changed. The typical need on changing this memory allocation is to place this memory to a specific place in internal or external RAM.</p>
<div class="highlight"><pre><span></span><code><span class="kt">uint8_t</span><span class="w"> </span><span class="n">AppSdoBuf</span><span class="p">[</span><span class="n">CO_SSDO_N</span><span class="p">][</span><span class="n">CO_SDO_BUF_BYTE</span><span class="p">];</span><span class="w"></span>
</code></pre></div>
<p>Note: This memory is used only when support for SDO segmented or block transfers are performed.</p>
<h3 id="node-specification">Node Specification<a class="headerlink" href="#node-specification" title="Permanent link">#</a></h3>
<p>This chapter describes the basic node specification. This table must be existent for each CANopen node, which shall be active within the CANopen device.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="n">AppSpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w">      </span><span class="p">)</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w">              </span><span class="cm">/* pre-defined Node-ID            */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w">     </span><span class="p">)</span><span class="w"> </span><span class="n">Baudrate</span><span class="p">,</span><span class="w">          </span><span class="cm">/* default baudrate               */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">CO_OBJ</span><span class="w">      </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppObjDir</span><span class="p">,</span><span class="w">         </span><span class="cm">/* start of object directory      */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint16_t</span><span class="w">     </span><span class="p">)</span><span class="w"> </span><span class="n">APP_OBJ_N</span><span class="p">,</span><span class="w">         </span><span class="cm">/* number of objects in directory */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">CO_EMCY_TBL</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppEmcyCode</span><span class="p">,</span><span class="w">       </span><span class="cm">/* start of emergency code table  */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">CO_TMR_MEM</span><span class="w">  </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppTmrMem</span><span class="p">,</span><span class="w">         </span><span class="cm">/* start of timer manager memory  */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint16_t</span><span class="w">     </span><span class="p">)</span><span class="w"> </span><span class="n">APP_TMR_N</span><span class="p">,</span><span class="w">         </span><span class="cm">/* max. number of timers/actions  */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w">     </span><span class="p">)</span><span class="w"> </span><span class="n">APP_TICKS_PER_SEC</span><span class="p">,</span><span class="w"> </span><span class="cm">/* timer clock frequency in Hz    */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">CO_IF_DRV</span><span class="w">    </span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppDrv</span><span class="p">,</span><span class="w">            </span><span class="cm">/* hardware interface drivers     */</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w">     </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSdoBuf</span><span class="w">          </span><span class="cm">/* start of SDO transfer buffer   */</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>This example specifies the basic node information for the example node. Each entry is a part of the configuration. This structure is only required during the startup of the CANopen stack.</p>
<p>If SDO block and segmented transfer is disabled, e.g. the SDO transfer buffer is not used, the last entry in the node specification can be set to <code>NULL</code>.</p>
<p>The following example creates a single CANopen node:</p>
<div class="highlight"><pre><span></span><code><span class="k">extern</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="n">AppSpec</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="n">CO_NODE</span><span class="w">      </span><span class="n">AppNode</span><span class="p">;</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">StartNode</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CONodeInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">CO_NODE_SPEC</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">AppSpec</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">CONodeGetErr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AppNode</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">CO_ERR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="cm">/* error handling */</span><span class="w"></span>

<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</code></pre></div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../callbacks/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Callback Interface" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Callback Interface
            </div>
          </div>
        </a>
      
      
        
        <a href="../../api/node/" class="md-footer__link md-footer__link--next" aria-label="Next: CANopen Node" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              CANopen Node
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; by <a href="https://www.embedded-office.com/">Embedded Office</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://canopen-stack.org/" target="_blank" rel="noopener" title="canopen-stack.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/embedded-office/canopen-stack/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/embedded-office/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "header.autohide"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>